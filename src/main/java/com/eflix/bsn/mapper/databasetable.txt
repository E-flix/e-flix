CREATE TABLE QUOTATION (
    QUOTATION_NO          VARCHAR2(30 BYTE)   NOT NULL,
    CUSTOMER_CD           VARCHAR2(50 BYTE)   NOT NULL,
    CUSTOMER_NAME         VARCHAR2(20 BYTE)   NOT NULL,
    QUOTATION_DT          DATE                NOT NULL,
    VALID_PERIOD          DATE                NOT NULL,
    EMP_CD                VARCHAR2(20 BYTE)   NOT NULL,
    PHONE                 VARCHAR2(50 BYTE)   NOT NULL,
    DELIVERY_LOCATION     VARCHAR2(200 BYTE)  NOT NULL,
    EXPECTED_DELIVERY_DT  DATE                NOT NULL,
    PAYMENT_TERMS         VARCHAR2(100 BYTE)  NOT NULL,
    CONSTRAINT PK_QUOTATION PRIMARY KEY (QUOTATION_NO)
);

CREATE TABLE QUOTATION_DETAIL (
    QUOTATION_NO   VARCHAR2(30 BYTE)    NOT NULL, 
    ITEM_NAME      VARCHAR2(20 BYTE)    NOT NULL,
    QTY            NUMBER(15,2)         NOT NULL,
    UNIT           NUMBER(15,2)         NOT NULL,
    UNIT_PRICE     NUMBER(15,2)         NOT NULL,
    ACCOUNT        VARCHAR2(200 BYTE)   NOT NULL,
    TOTAL_MONEY    VARCHAR2(30 BYTE)    NOT NULL, 
    REMARKS        VARCHAR2(100 BYTE),
    LINE_NO        NUMBER               NOT NULL,
    CONSTRAINT PK_QD PRIMARY KEY (QUOTATION_NO, LINE_NO),
    CONSTRAINT FK_QD_QUOTATION
        FOREIGN KEY (QUOTATION_NO)
        REFERENCES QUOTATION (QUOTATION_NO)
);

CREATE TABLE ORDERS (
    ORDER_NO              VARCHAR2(30 BYTE)   NOT NULL,     
    QUOTATION_NO          VARCHAR2(30 BYTE),                 
    ORDER_DT              DATE                NOT NULL,
    EMP_CD                VARCHAR2(20 BYTE)   NOT NULL,
    PHONE_NUMBER          NUMBER              NOT NULL,
    DELIVERY_ADDR          VARCHAR2(200 BYTE)  NOT NULL,
    WAREHOUSE_CD          VARCHAR2(20 BYTE)   NOT NULL,
    DELIVERY_DT            DATE                NOT NULL,
    EXPECTED_PAYMENT_DT   DATE                NOT NULL,
    PAYMENT_TERMS         VARCHAR2(100 BYTE)  NOT NULL,
    TAX_INVOICE_ISSUE_YN  VARCHAR2(20 BYTE)   NOT NULL,
    CUSTOMER_CD           VARCHAR2(100 BYTE)  NOT NULL,
    CONSTRAINT PK_ORDERS PRIMARY KEY (ORDER_NO)
);

CREATE TABLE ORDERS_DETAIL (
    ORDER_NO        VARCHAR2(30 BYTE)    NOT NULL,  
    ITEM_CD         VARCHAR2(20 BYTE)    NOT NULL,
    ITEM_NAME       VARCHAR2(50 BYTE)    NOT NULL,
    QTY             NUMBER(10,2)         NOT NULL,
    UNIT_PRICE      NUMBER(15,2)         NOT NULL,
    DISCOUNT_RATE   NUMBER(5,2),
    AMOUNT          NUMBER(15,2),
    REMARKS         VARCHAR2(200 BYTE),
    CONSTRAINT PK_ORDERS_DETAIL PRIMARY KEY (ORDER_NO, ITEM_CD),
    CONSTRAINT FK_OD_ORDERS
        FOREIGN KEY (ORDER_NO)
        REFERENCES ORDERS (ORDER_NO)
);

CREATE TABLE SALES_OUTBOUND (
    OUTBOUND_NO      VARCHAR2(30 BYTE)   NOT NULL,  -- PK
    WRITE_DT         VARCHAR2(30 BYTE)   NOT NULL,  -- 작성일(문자형 저장)
    CUSTOMER_CD      VARCHAR2(20 BYTE)   NOT NULL,
    ORDER_DT         DATE                NOT NULL,  -- 주문일
    OUTBOUND_DT      DATE                NOT NULL,  -- 출고일
    MONEY            VARCHAR2(4 BYTE)    NOT NULL,  -- 통화 코드 등
    REMARKS          VARCHAR2(20 BYTE),
    CONSTRAINT PK_SALES_OUTBOUND PRIMARY KEY (OUTBOUND_NO)
);


CREATE TABLE SOUTBOUND_DETAIL (
    ORDER_NO   VARCHAR2(30 BYTE)  NOT NULL,
    ITEM_NAME  VARCHAR2(30 BYTE)  NOT NULL,
    STANDARD   VARCHAR2(30 BYTE)  NOT NULL,
    QTY        NUMBER             NOT NULL,
    UNIT       VARCHAR2(10 BYTE)  NOT NULL,
    REMARKS    VARCHAR2(30 BYTE)  NOT NULL,

    -- 기본 키
    CONSTRAINT PK_SOUTBOUND_DETAIL
        PRIMARY KEY (ORDER_NO),

    -- 외래 키 (주문/출고 헤더 테이블 연동)
    CONSTRAINT FK_SALES_OUT_TO_SOUT_DET
        FOREIGN KEY (ORDER_NO)
        REFERENCES EFLIX.SALES_OUTBOUND (OUTBOUND_NO)
);