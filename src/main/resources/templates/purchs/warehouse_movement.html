<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default}">

<div layout:fragment="content" class="container-fluid">

	<!-- 상단 탭 -->
	<div class="col-md-12">
		<div class="radio-group">
			<input type="radio" class="btn-check" name="accountFilter" id="warehouse" autocomplete="off">
			<label class="btn btn-outline-secondary btn-sm me-1" for="warehouse">창고관리</label>

			<input type="radio" class="btn-check" name="accountFilter" id="warehouse_mnt" autocomplete="off" checked>
			<label class="btn btn-outline-secondary btn-sm me-1" for="warehouse_mnt">창고이동</label>
		</div>
	</div>

	<!-- 버튼 -->
	<div class="d-flex justify-content-end mb-2">
		<button type="button" class="btn btn-secondary btn-sm me-2" onclick="resetTransfer()">초기화</button>
		<button type="button" class="btn btn-success btn-sm" onclick="saveTransfer()">저장</button>
	</div>

	<!-- 테이블 -->
	<div class="table-responsive">
		<table class="table table-bordered table-sm text-center align-middle">
			<thead class="table-primary">
				<tr>
					<th>NO</th>
					<th><input type="checkbox" onclick="toggleAll(this)" /></th>
					<th>제품코드</th>
					<th>제품명</th>
					<th>창고명</th>
					<th colspan="3">이동전 재고량</th>
					<th>창고명</th>
					<th colspan="3">이동후 재고량</th>
				</tr>
				<tr class="table-light">
					<th colspan="5"></th>
					<th>이동전 재고량</th>
					<th>이동후 재고량</th>
					<th>이동수량</th>
					<th></th>
					<th>이동전 재고량</th>
					<th>이동후 재고량</th>
				</tr>
			</thead>
			<!-- <tbody>
        <tr th:each="item, stat : ${moveList}">
          <td th:text="${stat.count}">1</td>
          <td><input type="checkbox" th:name="'check_' + ${item.id}"/></td>
          <td th:text="${item.productCode}">003214wa1</td>
          <td th:text="${item.productName}">제품1</td>
          <td th:text="${item.sourceWarehouse}">기본창고</td>

          
          <td th:text="${item.beforeQty}">400</td>
          <td th:text="${item.afterQty}">335</td>
          <td><input type="number" class="form-control form-control-sm text-danger" th:value="${item.moveQty}" /></td>

         
          <td>
            <select class="form-select form-select-sm">
              <option th:each="w : ${warehouseList}" th:value="${w.code}" th:text="${w.name}"
                      th:selected="${w.code == item.targetWarehouse}"></option>
            </select>
          </td>
          <td th:text="${item.toBeforeQty}">0</td>
          <td th:text="${item.toAfterQty}">45</td>
        </tr>
      </tbody> -->
			<tbody>
				<!-- 더미 데이터 1 -->
				<tr>
					<td>1</td>
					<td><input type="checkbox" name="check_1" /></td>
					<td>PRD001</td>
					<td>샴푸</td>
					<td>기본창고</td>
					<td>500</td> <!-- 이동전 재고량 -->
					<td>450</td> <!-- 이동후 재고량 -->
					<td><input type="number" class="form-control form-control-sm text-danger" value="50" /></td>

					<td>
						<select class="form-select form-select-sm">
							<option selected>창고2</option>
							<option>창고3</option>
						</select>
					</td>
					<td>0</td> <!-- 이동전 재고량 (창고2) -->
					<td>50</td> <!-- 이동후 재고량 (창고2) -->
				</tr>

				<!-- 더미 데이터 2 -->
				<tr>
					<td>2</td>
					<td><input type="checkbox" name="check_2" /></td>
					<td>PRD002</td>
					<td>린스</td>
					<td>기본창고</td>
					<td>800</td>
					<td>700</td>
					<td><input type="number" class="form-control form-control-sm text-danger" value="100" /></td>

					<td>
						<select class="form-select form-select-sm">
							<option selected>창고2</option>
							<option>창고3</option>
						</select>
					</td>
					<td>30</td>
					<td>130</td>
				</tr>
			</tbody>
		</table>
	</div>

</div>

</html>

<script>
	function toggleAll(checkbox) {
		const checkboxes = document.querySelectorAll('tbody input[type="checkbox"]');
		checkboxes.forEach(cb => cb.checked = checkbox.checked);
	}

	function resetTransfer() {
		alert("초기화 기능은 개발 중입니다.");
	}

	function saveTransfer() {
		alert("저장 기능은 개발 중입니다.");
	}

	document.getElementById('warehouse').addEventListener('change', function () {
		if (this.checked) {
			window.location.href = '/purchs/warehouse';
		}
	})
</script>