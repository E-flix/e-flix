<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{common/layouts/default}">
<!-- ============================================
  - ì‘ì„±ì   : ê¹€ì–´ì§„
  - ìµœì´ˆì‘ì„± : 2025-06-18
  - ì„¤ëª…     : ê·¼íƒœ ì‹ ì²­í™”ë©´ (ì‚¬ì›)
  -----------------------------------------------
  [ ë³€ê²½ ì´ë ¥ ]
  - 2025-06-18 (ê¹€ì–´ì§„): title ë° ë‚´ìš© ì¶”ê°€
  - 2025-06-19 (ê¹€ì–´ì§„): layout êµ¬ì„±
============================================ -->

<head>
  <title>ê·¼íƒœì‹ ì²­</title>
</head>
<div layout:fragment="content">
  <div id="empAdd">
    <h2>ê·¼íƒœì‹ ì²­</h2>
    <div class="mt-4">

        <!-- ë²„íŠ¼ -->
        <div class="d-flex justify-content-end mb-3">
          <button type="submit" class="btn btn-primary" id="addBtn">ì‹ ì²­í•˜ê¸°</button>
        </div>
        <div class="p-4 border rounded bg-light">

          <h5 class="text-center fw-bold mb-4"> &lt; ê·¼íƒœ ì‹ ì²­ &gt; </h5>

          <!-- ì‚¬ì› ì •ë³´ -->
          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label">ì‚¬ì›ëª…</label>
              <input type="text" class="form-control" value="í™ê¸¸ë™" readonly>
            </div>
            <div class="col-md-4">
              <label class="form-label">ë¶€ì„œ</label>
              <input type="text" class="form-control" value="ì¸ì‚¬ë¶€" readonly>
            </div>
            <div class="col-md-4">
              <label class="form-label">ì‚¬ë²ˆ</label>
              <input type="text" class="form-control" value="1001" readonly>
            </div>
          </div>

          <!-- ì‹ ì²­ì¼ì -->
          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label">ì‹ ì²­ì¼ì</label>
              <input type="text" class="form-control" id="regDate" readonly>
            </div>
          </div>

          <!-- ê·¼íƒœ ìœ í˜• -->
          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label">ê·¼íƒœ ìœ í˜•</label>
              <select class="form-select" id="editType">
                <option value="AT01">ì—°ì°¨</option>
                <option>ë°˜ì°¨</option>
                <option>ë³‘ê°€</option>
                <option>ì™¸ê·¼</option>
              </select>
            </div>
          </div>

          <!-- ë‚ ì§œ ë° ì‹œê°„ -->
          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label">ì‹œì‘ì¼</label>
              <input type="date" class="form-control" id="oldValue" value="2025-06-20">
            </div>
            <div class="col-md-4">
              <label class="form-label">ì¢…ë£Œì¼</label>
              <input type="date" class="form-control" id="newValue" value="2025-06-20">
            </div>
          </div>

          <!-- ì‚¬ìœ  -->
          <div class="mb-3">
            <label class="form-label">ì‚¬ìœ </label>
            <input type="text" class="form-control" id="reason" placeholder="ì˜ˆ: ê°€ì¡± í–‰ì‚¬ ì°¸ì—¬">
          </div>

          <!-- ìŠ¹ì¸ ìƒíƒœ (ìˆ¨ê¹€ ë˜ëŠ” read-onlyìš©) -->
          <input type="hidden" value="ë¯¸ìŠ¹ì¸">

          <!-- ì•ˆë‚´ë¬¸ -->
          <div class="alert alert-info">
            ğŸ“Œ ë³‘ê°€ë‚˜ ì™¸ê·¼ ì‹ ì²­ ì‹œ, ê´€ë ¨ ì¦ë¹™ì„œë¥˜ë¥¼ ë°˜ë“œì‹œ ì²¨ë¶€í•´ì£¼ì„¸ìš”.
          </div>


        </div>
    </div>
    <script>
      $(document).ready(function() {
        const today = new Date();
        // $("#regDate").val(today.getFullYear() + "-" + today.getMonth() + "-" + today.getDay());
      });
      $("#addBtn").on("click", function() {
        const data = {
          empIdx: "emp-107",
          editType: $("#editType").val(),
          oldValue: $("#oldValue").val(),
          newValue: $("#newValue").val(),
          reason: $("#reason").val()
        }

        $.ajax({
          type:"POST",
          url: "/hr/insertAttd",
          data: JSON.stringify(data),
          contentType: "application/json",
          success: function(res) {
            if(res) {
              Swal.fire("ì„±ê³µ", "ì„±ê³µì ìœ¼ë¡œ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.", "success");
            } else {
              Swal.fire("ì‹¤íŒ¨", "ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ë˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "error");
            }
          },
          error: function(xhr, status, err) {
            console.error(err);
            Swal.fire("ì˜¤ë¥˜", "ì„œë²„ì™€ í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "error");
          }
        });
      });
    </script>

  </div>
</div>